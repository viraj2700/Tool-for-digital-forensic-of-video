<!-- templates/result_pretty.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Forensic Report — {{ meta.get('File Name') }}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <style>
    .kv { display:flex; justify-content:space-between; padding:0.35rem 0; border-bottom:1px solid rgba(255,255,255,0.03);}
    .kv .k { font-weight:600; color:#cfe3ff; }
    .kv .v { color:#d8e6ff; }
    .card-title { font-weight:700; }
    .grid-thumb { max-height:140px; object-fit:cover; border-radius:6px; width:100%;}
  </style>
</head>
<body class="bg-dark text-light">
  <div class="container py-4">
    <a class="btn btn-outline-light mb-3" href="{{ url_for('index') }}">← New Analysis</a>

    <div class="row g-3">
      <div class="col-lg-4">
        <div class="card bg-secondary p-3 mb-3">
          <h5 class="card-title">Video Metadata</h5>
          <div class="mt-2">
            {% for k, v in meta.items() %}
              <div class="kv"><div class="k">{{ k }}</div><div class="v text-end">{{ v }}</div></div>
            {% endfor %}
          </div>
          <div class="mt-3 d-grid">
            <a class="btn btn-info" href="{{ url_for('download_report', base=base) }}">Download JSON</a>
          </div>
        </div>

        <div class="card bg-secondary p-3">
          <h6 class="card-title">Quick Forensic Notes</h6>
          <ul class="small mb-0">
            <li>Only video stream info shown (audio removed).</li>
            <li>ELA highlights recompression differences — interpret carefully.</li>
            <li>Frames extracted are samples; change sampling in settings if needed.</li>
          </ul>
        </div>
      </div>

      <div class="col-lg-8">
        <div class="card bg-secondary p-3 mb-3">
          <h5 class="card-title">Frames & ELA Gallery</h5>
          {% if frames %}
            <div class="row g-2">
              {% for f in frames %}
                <div class="col-4">
                  <img src="{{ f }}" class="grid-thumb shadow-sm">
                </div>
              {% endfor %}
            </div>
          {% else %}
            <p class="text-muted">No frames available.</p>
          {% endif %}
        </div>

        <div class="card bg-secondary p-3">
          <h5 class="card-title">Detailed Frame List</h5>
          <p class="small text-muted">Below are the extracted frame images and corresponding ELA images (if available) — use the JSON report for exact paths and hashes.</p>
          <a class="btn btn-sm btn-outline-light mt-2" href="{{ url_for('download_report', base=base) }}">Open JSON report</a>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
